{% extends "base.html" %}

{% block body %}


{% include "messages.html" %}


<form class="form-inline" role="form" method="GET" action="{% if mode == "merged" %}{{ url_for("changes_merged") }} {% else %}{{ url_for("changes_new") }}{% endif %}">
    {# {{ form.hidden_tag() }}  #}
    <div class="form-group">
        <label class="sr-only" for="title">Author</label>
        <input type="text" class="form-control" name="title" id="title" value="{{ request.args.get('title', "") }}" placeholder="{{form.title.description}}">
    </div>
    <div class="form-group">
        <label class="sr-only" for="author">Author</label>
        <input type="text" class="form-control" name="author" id="author" value="{{ request.args.get('author', "") }}" placeholder="{{form.author.description}}">
    </div>
    <button type="submit" class="btn btn-default">Filter</button>
</form>


<h1>{{ type|title }} changes</h1>

    <table class="table table-hover">
        <thead>
        <tr>
            <th>No.</th>
            <th>Changeset</th>
            <th>Author</th>
            <th>Created</th>
            <th>Bookmark</th>
        </tr>
        </thead>
        <tbody>

        {% for r in reviews %}
            <tr>
                <td>{{ loop.index }}</td>
                <td><a href="{{ url_for("changeset_info", review=r.id) }}">{{ r.title }} </a></td>
                <td>{{ r.owner }}</td>
                <td>{{ r.created_date }}</td>
                <td>{{ r.bookmark }}</td>
            </tr>
        {% endfor %}
        </tr>
        </tbody>
    </table>

    {% from "_helpers.html" import render_pagination %}
    {{ render_pagination(pagination) }}



{% endblock %}